\section{The URDAD analysis and design process}

In this section we will introduce URDAD from the perspective of a quality driven process generating an analysis and design model which enforces certain model quality requirements.  URDAD\cite{solms_generating_2009} provides a service oriented analysis and design methodology, a metamodel introducing the semantics (modelling constructs) for an URDAD based domain specific language (the \emph{URDAD-DSL}), as well as a concrete text grammar which can be used to populate an URDAD model complying to the metamodel. A graphical grammar and diagram-based tooling around that grammar are under development. 

The resultant URDAD model represents a \emph{Computation Independent Model} (CIM) as the services contracts and processes can be realized as system  or business contracts (SLAs) and system or manual processes respectively. Nevertheless, the model has a level of detail and preciseness which is generally associated with \emph{Platform Independent Models} (PIMs) and not commonly with CIMs as it contains testable service contracts and and implementable process specifications for services across levels of granularity.

%-----------------------------------------------------------

\subsection{Quality drivers employed by URDAD}

Most of the quality drivers discussed in \ref{sec:modelQualityDriversAndMetrics} are builts into the URDAD process. Table \ref{tab:qualityDrivers} lists the employed quality drivers and the model qualities they are meant to support.

\begin{table}[h]
 \caption{URDAD model quality drivers for quality requirements}
 \label{tab:qualityDrivers}
\begin{tabular}{|l|cc|cccccccc|} \hline
\multirow{4}{*}{\bf Quality driver} & \multicolumn{10}{c|}{\bf Model qualities} \\ \cline{2-11}
& & & \multicolumn{8}{c|}{Pragmatic model qualities}\\ \cline{4-11}
    & \begin{sideways}Semantic\end{sideways} & \begin{sideways}Syntactic\end{sideways}  & \begin{sideways}Simplicity\end{sideways}
    & \begin{sideways}Completeness\end{sideways} & \begin{sideways}Modifiability\end{sideways} & \begin{sideways}Consistency\end{sideways}
    & \begin{sideways}Decoupling\end{sideways} & \begin{sideways}Cohesion\end{sideways} & \begin{sideways}Reusability\end{sideways}
    & \begin{sideways}Traceability\end{sideways} \\ \hline
%                                       Semantic     Syntax        Simplicity  Completeness   Modifiable  Consistent  Decoupled    Cohesion     Reuse        Traceable
Metamodel and/or ontology              & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark & \checkmark &            &            & \checkmark \\
Graphical and/or text grammar          &            & \checkmark & \checkmark &            & \checkmark &            &            &            &            
& \\
Fix levels of granularity              &            &            & \checkmark &            & \checkmark &            &            &            &
\checkmark & \checkmark \\ 
Enforce single reponsibility principle &            &            & \checkmark &            & \checkmark &            &            & \checkmark & \checkmark & \checkmark \\ 
Service dependency via contracts       &            &            & \checkmark &            & \checkmark &            & \checkmark &            & \checkmark & \checkmark \\ 
Testable pre- \& post-conditions       &            &            &            & \checkmark & \checkmark & \checkmark &            &            &            &  \\ 
Process localization in controller     &            &            & \checkmark &            & \checkmark &            & \checkmark & \checkmark & \checkmark & \checkmark \\ 
Traceability Links                     &            &            & \checkmark & \checkmark & \checkmark & \checkmark &            &            &            & \checkmark \\ \hline 
\end{tabular}
  
\end{table}

%------------------------------------------------------------------------

\subsection{The URDAD process}
\label{sec:urdadProcess}

\begin{enumerate}
 \item {\bf Requirements analysis} for level of granularity yielding service contract
  \begin{enumerate}
    \item Identify stakeholders for the services.
    \item For each stakeholder, identify functional requirements (pre- and post-conditions) and quality requirements for the service.
    \item Assess consistency of stakeholder requirements.
    \item Fix level of granularity by consolidating lower level pre- and post-conditions into higher level pre- and post-conditions. 
	  \emph{\textbf{\textit{Note:}} This includes the absorption of certain pre and/or post-conditions into encompassing pre- or post-conditions and the identification of a higher level pre- or post-condition which groups the some of the specified pre- and/or post-conditions into a higher level functional requirement addressing a at some level of granularity a single responsibility (enforcing the single responsibility principle). The purpose of this process is to project out levels of granularity in a repeatable way, simplifying the process at a particular level of granularity and improving reuse and cohesion.}
    \item Specify data structure for request and result classes.
    \item Formalize the pre and post-conditions by specifying the user test process for each and for each pre-condition the exception which will be raised if the pre-condition is not met.
    \item Identify the responsibility domain for the service and assign the services contract to that responsibility domain making sure that an appropriate service contract has not already been assigned to that responsibility domain. 
  \end{enumerate}

 \item {\bf Process design} for level of granularity defining a service implementation.
      \begin{enumerate}
	\item Assess whether the requested service falls within scope for the context (e.g.\ system, system component, organization, business unit, \dots).
	\item Check within the responsibility domain of the service whether realizing the services contract. If so return that service.
        \item Identify for each functional requirement an abstract service (in the form of a service contract) to be used to address that functional requirement.
	\item If a new service is defined, assign it to the appropriate responsibility domain, ensuring cohesion of the responsibility domain. \emph{\textbf{\textit{Note:}} Responsibility domains contain lower level responsibility domains and the service needs to be assigned to a responsibility domain at the appropriate level of granularity.}
	\item Choreograph the process across the abstract services used to address the functional requirements with each pre-condition assessment leading potentially leading to a terminal activity of raising an exception and all other paths leading to the terminal activity of returning the result object. \emph{\textbf{\textit{Note:}} The services across levels of granularity are decoupled through services contracts.}
      \end{enumerate}

  \item Recursively repeat the process for each lower level service which is not available.
\end{enumerate}

%\missingfigure{URDAD process}

The methodology does not envisage that a single requirements engineer does the requirements and process design across levels of granularity. Instead requirements engineers specializing in different responsibility domains (e.g.\ business analysts across business units of the organization) collaborate to define the complete requirements model.

%------------------------------------------------------------------------

\subsection{The URDAD metamodel and text grammar}
\label{sec:urdadDsl}

URDAD does not prescribe the language which should be used to encode the requirements and process model representing OMG's CIM, but it provides the option of using a domain specific language for URDAD, the \emph{URDDAD-DSL}. URDAD require, however, that the modelling language used supports the semantics for specifying 1) \emph{services contracts} with pre- and post-conditions, quality requirements and data structure specification for the inputs and outputs, 2) parametrized state constraints applying to service environment, 3) object-oriented data structure specification, 4) service specification including 5a) the specification of which service is used to address which functional requirement and 5b) the process specification in the form of a choreography across lower level services and 6) the assigning of model artifacts including services contract and service specifications to responsibility domains. URDAD also requires the linkage between a requirement and the stakeholder who requires it. The stakeholder can be a responsibility domain or a service.

Historically UML together with OCL and an URDAD profile were used with services contracts represented by interfaces, pre- and post-conditions and quality requirements by constraints, data structure specifications by class diagrams and process choreography specified in activity diagrams assigned to service implementation within classes. The activity diagrams were allowed to only only call operations and control logic. The approach was, however, tedious and error prone and the resultant models were seldom in a state which allowed for model transformation, code and test generation and solid documentation generation. Furthermore, additional semantic relationships, not all of which could be represented in diagrams, needed to be added. Full testable service contract specification and complete process specification facilitating full test and code generation proved particularly challenging.


The URDAD metamodel and text grammar will be published in detail separately. Here we discuss aspects of the metamodel and text grammar from a quality perspective. In particular, many of the model qualities are either enforced or supported through the metamodel including
\begin{itemize}
 \item decoupling of services across levels of granularity through services contracts,
 \item a range of traceability links including enforced usage of both satisfiability links and \emph{`requiredBy'} links between requirements and stakeholders,
 \item the assignment of services into responsibility domains, and 
 \item the support of parametrized, reusable constraints for the specification of pre- and post-conditions as well as guard conditions for conditional functional requirements and alternative flows within processes.
\end{itemize}

The contract specification should facilitate the generation of tests and the process specification the generation of an implementation, either in the form of an automated system process or in the form of a manual process. The


The \emph{Business Process Modeling Notation}, which is commonly used for process specification for services oriented architectures is on the one side too technical \cite{} insufficient for full process specification and needs to be supplemented by UML or other languages to allow for full data structure and service contract specification.


For these reasons we have developed a domain specific language (DSL) for URDAD. The DSL has significantly lower complexity which supports the required semantics for URDAD directly. 
URDAD encoding
UML+OCL can provide limited encoding but the
  - insufficient expressiveness for specifying services contracts in a services oriented framework
  - tedious and error prone
BPMN
  - too technology focused (citations from Fouad et al "Embedding requirements ..."
  - no notion of services contracts and data structures  

URDAD is a service-oriented analysis and design process which generates services contracts and associated process specifications across levels of granularity. 

Refer to \cite{gonzalez_unity_2009} to use unity criteria to define responsibility domain boundaries.
\todo{Fritz:Look at unity models as in Espana et al and see progress report for responsibility localization and general short-comings in use case based approach regarding this.}

%---------------------------------------------------------------

\subsection{URDAD views}
\label{sec:urdadViews}

supplied via text encoding and later via graphical syntax.

%---------------------------------------------------------------

\subsection{Example: Designing URDAD with URDAD}
\label{sec:urdadExample}
by using it to design a service oriented analysis and design methodology. If the process is internally consistent it needs to generate itself. 


%---------------------------------------------------------------

\todo{Fritz: mention adapters to existing legacy}

\todo{Fritz: Add that one of the core challanges is to have requirements specialists make the paradigm shift to specify requirements in terms of services contracts for reusable services\cite{haines_impact_2007}. In practice we have found that URDAD assists significantly on that front.}
